const dt=/^data-pjax-(hydrate|append|prepend|replace|history|progress|threshold|position)$/i,pt=/\/\/[^/]*(\/[^;]*)/,ht=/^(true|false)$/i,Pe=/^[+-]?\d*\.?\d+$/,Ee=/[^,'"[\]()\s]+/g,vt=/\(?\[['"].*?['"],?\]\)?/,yt=/\(?(\[(['"].*?['"],?){2}\],?)\1?\)?/,mt=/[xy]:[0-9.]+/,gt=/[xy]|\d*\.?\d+/g,wt=/^https?:$/;let xe=(e=21)=>{let r="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let n=t[e]&63;n<36?r+=n.toString(36):n<62?r+=(n-26).toString(36).toUpperCase():n<63?r+="_":r+="-"}return r};const bt=Object.assign||((e,r)=>(r&&Object.keys(r).forEach(t=>e[t]=r[t]),e)),re=(e,r,t)=>{const n=typeof t;if(t&&n==="object")if(Array.isArray(t))for(const o of t)r=re(e,r,o);else for(const o of Object.keys(t)){const u=t[o];typeof u=="function"?r[o]=u(r[o],K):u===void 0?e&&!isNaN(o)?r.splice(o,1):delete r[o]:u===null||typeof u!="object"||Array.isArray(u)?r[o]=u:typeof r[o]=="object"?r[o]=u===r[o]?u:K(r[o],u):r[o]=re(!1,{},u)}else n==="function"&&(r=t(r,K));return r},K=(e,...r)=>{const t=Array.isArray(e);return re(t,t?e.slice():bt({},e),r)},ne=K;function G(){return G=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r],n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},G.apply(this,arguments)}var D,oe=D||(D={});oe.Pop="POP",oe.Push="PUSH",oe.Replace="REPLACE";var _e=function(e){return Object.freeze(e)};function Pt(e,r){if(!e){typeof console!="undefined"&&console.warn(r);try{throw Error(r)}catch{}}}function Oe(e){e.preventDefault(),e.returnValue=""}function je(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(t){return t!==r})}},call:function(r){e.forEach(function(t){return t&&t(r)})}}}var Et=function(e){function r(){var i=c.location,l=v.state||{};return[l.idx,_e({pathname:i.pathname,search:i.search,hash:i.hash,state:l.usr||null,key:l.key||"default"})]}function t(i){if(typeof i=="string")var l=i;else{l=i.pathname,l=l===void 0?"/":l;var p=i.search;p=p===void 0?"":p,i=i.hash,i=i===void 0?"":i,p&&p!=="?"&&(l+=p.charAt(0)==="?"?p:"?"+p),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i)}return l}function n(i,l){l===void 0&&(l=null);var p=G,m={pathname:w.pathname,hash:"",search:""};if(typeof i=="string"){var f={};if(i){var g=i.indexOf("#");0<=g&&(f.hash=i.substr(g),i=i.substr(0,g)),g=i.indexOf("?"),0<=g&&(f.search=i.substr(g),i=i.substr(0,g)),i&&(f.pathname=i)}i=f}return _e(p(m,i,{state:l,key:Math.random().toString(36).substr(2,8)}))}function o(i){O=i,i=r(),d=i[0],w=i[1],s.call({action:O,location:w})}function u(i,l){function p(){u(i,l)}var m=D.Push,f=n(i,l);if(!a.length||(a.call({action:m,location:f,retry:p}),!1)){var g=[{usr:f.state,key:f.key,idx:d+1},t(f)];f=g[0],g=g[1];try{v.pushState(f,"",g)}catch{c.location.assign(g)}o(m)}}function y(i,l){function p(){y(i,l)}var m=D.Replace,f=n(i,l);a.length&&(a.call({action:m,location:f,retry:p}),1)||(f=[{usr:f.state,key:f.key,idx:d},t(f)],v.replaceState(f[0],"",f[1]),o(m))}function h(i){v.go(i)}e===void 0&&(e={}),e=e.window;var c=e===void 0?document.defaultView:e,v=c.history,A=null;c.addEventListener("popstate",function(){if(A)a.call(A),A=null;else{var i=D.Pop,l=r(),p=l[0];if(l=l[1],a.length)if(p!=null){var m=d-p;m&&(A={action:i,location:l,retry:function(){h(-1*m)}},h(m))}else Pt(!1,"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.");else o(i)}});var O=D.Pop;e=r();var d=e[0],w=e[1],s=je(),a=je();return d==null&&(d=0,v.replaceState(G({},v.state,{idx:d}),"")),{get action(){return O},get location(){return w},createHref:t,push:u,replace:y,go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(i){return s.push(i)},block:function(i){var l=a.push(i);return a.length===1&&c.addEventListener("beforeunload",Oe),function(){l(),a.length||c.removeEventListener("beforeunload",Oe)}}}}();const S=Et,{create:Se,assign:Y,is:ie,keys:Ur,values:Br,defineProperty:Le,getOwnPropertyNames:xt}=Object,{from:se,isArray:$e}=Array;function J({writable:e,configurable:r,enumerable:t}={writable:!1,configurable:!1,enumerable:!1}){const n=Se(null);return{get all(){return n},get(o){return n[o]||void 0},set(o,u){return this.has(o)?Le(n,o,{value:u}):Le(n,o,{value:u,writable:e,configurable:r,enumerable:t}),n[o]},update(o,...u){return n[o]=ne(n[o]||{},u),n[o]},has(o,u){if(!o)return!1;const y=o in n;return u&&y?u in n[o]:y},delete(o){return this.has(o)?delete n[o]:!1},clear(o=[]){const u=[];return xt(n).forEach(y=>{o.includes(y)?u.push(n[y].snapshot):delete n[y]}),u}}}function R(e,r,t=!1){const n=new CustomEvent(e,{detail:r,cancelable:t});return document.dispatchEvent(n)}const P=Se({controller:!1,history:!1,href:!1,hover:!1,intersect:!1}),k={x:0,y:0};function ae(){return k.x=window.scrollX||window.pageXOffset,k.y=window.scrollY||window.pageYOffset,k}function Te(){return k.x=0,k.y=0,k}function Ae(){return{x:0,y:0}}function _t(){P.scroll||(ae(),addEventListener("scroll",ae,{passive:!0}),P.scroll=!0)}function Ot(){P.scroll&&(removeEventListener("scroll",ae,!1),Te(),P.scroll=!1)}var Ce=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ke={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,r){(function(t,n){e.exports=n()})(Ce,function(){var t={};t.version="0.2.0";var n=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(s){var a,i;for(a in s)i=s[a],i!==void 0&&s.hasOwnProperty(a)&&(n[a]=i);return this},t.status=null,t.set=function(s){var a=t.isStarted();s=o(s,n.minimum,1),t.status=s===1?null:s;var i=t.render(!a),l=i.querySelector(n.barSelector),p=n.speed,m=n.easing;return h(function(f){n.positionUsing===""&&(n.positionUsing=t.getPositioningCSS()),c(l,y(s,p,m)),s===1?(c(i,{transition:"none",opacity:1}),setTimeout(function(){c(i,{transition:"all "+p+"ms linear",opacity:0}),setTimeout(function(){t.remove(),f()},p)},p)):setTimeout(f,p)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var s=function(){setTimeout(function(){!t.status||(t.trickle(),s())},n.trickleSpeed)};return n.trickle&&s(),this},t.done=function(s){return!s&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(s){var a=t.status;return a?(typeof s!="number"&&(s=(1-a)*o(Math.random()*a,.1,.95)),a=o(a+s,0,.994),t.set(a)):t.start()},t.trickle=function(){return t.inc(Math.random()*n.trickleRate)},function(){var s=0,a=0;t.promise=function(i){return!i||i.state()==="resolved"?this:(a===0&&t.start(),s++,a++,i.always(function(){a--,a===0?(s=0,t.done()):t.set((s-a)/s)}),this)}}(),t.render=function(s){if(t.isRendered())return document.getElementById("nprogress");A(document.documentElement,"nprogress-busy");var a=document.createElement("div");a.id="nprogress",a.innerHTML=n.template;var i=a.querySelector(n.barSelector),l=s?"-100":u(t.status||0),p=document.querySelector(n.parent),m;return c(i,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),n.showSpinner||(m=a.querySelector(n.spinnerSelector),m&&w(m)),p!=document.body&&A(p,"nprogress-custom-parent"),p.appendChild(a),a},t.remove=function(){O(document.documentElement,"nprogress-busy"),O(document.querySelector(n.parent),"nprogress-custom-parent");var s=document.getElementById("nprogress");s&&w(s)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var s=document.body.style,a="WebkitTransform"in s?"Webkit":"MozTransform"in s?"Moz":"msTransform"in s?"ms":"OTransform"in s?"O":"";return a+"Perspective"in s?"translate3d":a+"Transform"in s?"translate":"margin"};function o(s,a,i){return s<a?a:s>i?i:s}function u(s){return(-1+s)*100}function y(s,a,i){var l;return n.positionUsing==="translate3d"?l={transform:"translate3d("+u(s)+"%,0,0)"}:n.positionUsing==="translate"?l={transform:"translate("+u(s)+"%,0)"}:l={"margin-left":u(s)+"%"},l.transition="all "+a+"ms "+i,l}var h=function(){var s=[];function a(){var i=s.shift();i&&i(a)}return function(i){s.push(i),s.length==1&&a()}}(),c=function(){var s=["Webkit","O","Moz","ms"],a={};function i(f){return f.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(g,E){return E.toUpperCase()})}function l(f){var g=document.body.style;if(f in g)return f;for(var E=s.length,b=f.charAt(0).toUpperCase()+f.slice(1),L;E--;)if(L=s[E]+b,L in g)return L;return f}function p(f){return f=i(f),a[f]||(a[f]=l(f))}function m(f,g,E){g=p(g),f.style[g]=E}return function(f,g){var E=arguments,b,L;if(E.length==2)for(b in g)L=g[b],L!==void 0&&g.hasOwnProperty(b)&&m(f,b,L);else m(f,E[1],E[2])}}();function v(s,a){var i=typeof s=="string"?s:d(s);return i.indexOf(" "+a+" ")>=0}function A(s,a){var i=d(s),l=i+a;v(i,a)||(s.className=l.substring(1))}function O(s,a){var i=d(s),l;!v(s,a)||(l=i.replace(" "+a+" "," "),s.className=l.substring(1,l.length-1))}function d(s){return(" "+(s.className||"")+" ").replace(/\s+/gi," ")}function w(s){s&&s.parentNode&&s.parentNode.removeChild(s)}return t})})(ke);const jt=ke.exports;var St=Object.defineProperty,Lt=Object.defineProperties,$t=Object.getOwnPropertyDescriptors,qe=Object.getOwnPropertySymbols,Tt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,Re=(e,r,t)=>r in e?St(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ct=(e,r)=>{for(var t in r||(r={}))Tt.call(r,t)&&Re(e,t,r[t]);if(qe)for(var t of qe(r))At.call(r,t)&&Re(e,t,r[t]);return e},kt=(e,r)=>Lt(e,$t(r));let ce;function qt({options:e}){ce=jt.configure(kt(Ct({},e),{template:'<div class="bar" role="bar"><div class="peg"></div></div>'}))}var Rt=Object.defineProperty,Mt=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Ne=(e,r,t)=>r in e?Rt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,le=(e,r)=>{for(var t in r||(r={}))Ht.call(r,t)&&Ne(e,t,r[t]);if(Me)for(var t of Me(r))It.call(r,t)&&Ne(e,t,r[t]);return e},ue=(e,r)=>Mt(e,Nt(r));const x=J({writable:!0,configurable:!0}),$=J({writable:!0,configurable:!0}),_={targets:["body"],request:{timeout:3e4,poll:150,async:!0,dispatch:"mousedown"},prefetch:{preempt:null,mouseover:{enable:!0,threshold:100,proximity:0},intersect:{enable:!0}},cache:{enable:!0,limit:25,save:!1,reverse:!0},progress:{enable:!0,threshold:850,style:{render:!0,colour:"#111",height:"2px"},options:{minimum:.1,easing:"ease",speed:225,trickle:!0,trickleSpeed:225,showSpinner:!1}}};function Dt(e={}){const r=ne(_,ue(le({},e),{request:ue(le({},e==null?void 0:e.request),{dispatch:void 0}),cache:ue(le({},e==null?void 0:e.cache),{save:void 0})}));Y(_,r),_.progress.enable&&qt(_.progress)}function He(e,r){const t=Y({history:!0,snapshot:e.snapshot||xe(16),position:e.position||Te(),cache:_.cache.enable,progress:_.progress.threshold,threshold:_.prefetch.mouseover.threshold},e,{targets:_.targets});return t.cache&&R("pjax:cache",t,!0)&&(x.set(t.url,t),$.set(t.snapshot,r)),t}function Ft(e,r){const{lastpath:t}=e.location,n=x.update(t,{hydrate:e.hydrate});return $.set(n.snapshot,r),n}function Q(e){if(typeof e=="undefined")x.clear(),$.clear();else if(typeof e=="string")$.delete(x.get(e).snapshot),x.delete(e);else if($e(e)){const r=x.clear(e);$.clear(r)}}function M(e){return x.has(e,"snapshot")?$.has(x.get(e).snapshot):!1}var Ie,fe=Ie||(Ie={});fe.Pop="POP",fe.Push="PUSH",fe.Replace="REPLACE";function Z(e){var r=e.pathname;r=r===void 0?"/":r;var t=e.search;return t=t===void 0?"":t,e=e.hash,e=e===void 0?"":e,t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function Wt(e){var r={};if(e){var t=e.indexOf("#");0<=t&&(r.hash=e.substr(t),e=e.substr(0,t)),t=e.indexOf("?"),0<=t&&(r.search=e.substr(t),e=e.substr(0,t)),e&&(r.pathname=e)}return r}var Ut=Object.defineProperty,De=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Fe=(e,r,t)=>r in e?Ut(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Xt=(e,r)=>{for(var t in r||(r={}))Bt.call(r,t)&&Fe(e,t,r[t]);if(De)for(var t of De(r))Vt.call(r,t)&&Fe(e,t,r[t]);return e};const{origin:zt,hostname:Kt}=window.location;let We=Z(window.location),N=We;function Gt(e){var r;return e.charCodeAt(0)===47?e:((r=e.match(pt))!=null?r:[])[1]||"/"}function Ue(e){const r=Wt(e instanceof Element?e.getAttribute("href"):e);return Xt({lastpath:Z(S.location),search:"",origin:zt,hostname:Kt},r)}function H(e,r){const t=Gt(e instanceof Element?e.getAttribute("href"):e);return r&&(N=Z(S.location),We=t),{url:t,location:Ue(t)}}var j=typeof window!="undefined"?window:{screen:{},navigator:{}},F=(j.matchMedia||function(){return{matches:!1}}).bind(j),Yt={get passive(){return!0}},Be=function(){};j.addEventListener&&j.addEventListener("p",Be,Yt),j.removeEventListener&&j.removeEventListener("p",Be,!1);var U="PointerEvent"in j,de="ontouchstart"in j,Jt="TouchEvent"in j;de||Jt&&F("(any-pointer: coarse)").matches;var Ve=j.navigator.userAgent||"",Qt=F("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Ve)&&Math.min(j.screen.width||0,j.screen.height||0)>=768;(F("(pointer: coarse)").matches||!F("(pointer: fine)").matches&&de)&&/Windows.*Firefox/.test(Ve),F("(any-pointer: fine)").matches||F("(any-hover: hover)").matches;function Zt(e=2){return(r,t)=>{const n=r.length;return(!n||ie(r[n-1].length,e)?r.push([t]):r[n-1].push(t))&&r}}function er(e,r){return C((t,n,o)=>{const u=o.length-1>=n?n-1:n;n%2&&Y(r,{[o[u]]:Pe.test(t)?Number(t):t})},e),r}function pe({attributes:e},r={}){for(const{nodeName:t,nodeValue:n}of e){if(!dt.test(t))continue;const o=n.replace(/\s+/g,"");r[t.slice(10)]=vt.test(o)?o.match(Ee):yt.test(o)?o.match(Ee).reduce(Zt(2),[]):mt.test(o)?er(o.match(gt),{}):ht.test(o)?o==="true":Pe.test(o)?Number(o):o}return r}function he(e,r){if(e instanceof Element){const t=e.closest(r);if(t&&t.tagName==="A")return t}return!1}function tr(e){return new Blob([e]).size}function rr(e){return!M(H(e).url)}function ve(e){const r=document.body.querySelectorAll(e);return se(r).filter(rr)}function C(e,r){if(arguments.length===1)return o=>C(e,o);let t=0;const n=r.length;for(;t<n;)e(r[t],t,r),t++}var Xe={exports:{}};(function(e,r){(function(t,n){e.exports=n()})(Ce,function(){var t=function(){},n={},o={},u={};function y(d,w){d=d.push?d:[d];var s=[],a=d.length,i=a,l,p,m,f;for(l=function(g,E){E.length&&s.push(g),i--,i||w(s)};a--;){if(p=d[a],m=o[p],m){l(p,m);continue}f=u[p]=u[p]||[],f.push(l)}}function h(d,w){if(!!d){var s=u[d];if(o[d]=w,!!s)for(;s.length;)s[0](d,w),s.splice(0,1)}}function c(d,w){d.call&&(d={success:d}),w.length?(d.error||t)(w):(d.success||t)(d)}function v(d,w,s,a){var i=document,l=s.async,p=(s.numRetries||0)+1,m=s.before||t,f=d.replace(/[\?|#].*$/,""),g=d.replace(/^(css|img)!/,""),E,b;a=a||0,/(^css!|\.css$)/.test(f)?(b=i.createElement("link"),b.rel="stylesheet",b.href=g,E="hideFocus"in b,E&&b.relList&&(E=0,b.rel="preload",b.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(b=i.createElement("img"),b.src=g):(b=i.createElement("script"),b.src=d,b.async=l===void 0?!0:l),b.onload=b.onerror=b.onbeforeload=function(L){var z=L.type[0];if(E)try{b.sheet.cssText.length||(z="e")}catch(ft){ft.code!=18&&(z="e")}if(z=="e"){if(a+=1,a<p)return v(d,w,s,a)}else if(b.rel=="preload"&&b.as=="style")return b.rel="stylesheet";w(d,z,L.defaultPrevented)},m(d,b)!==!1&&i.head.appendChild(b)}function A(d,w,s){d=d.push?d:[d];var a=d.length,i=a,l=[],p,m;for(p=function(f,g,E){if(g=="e"&&l.push(f),g=="b")if(E)l.push(f);else return;a--,a||w(l)},m=0;m<i;m++)v(d[m],p,s)}function O(d,w,s){var a,i;if(w&&w.trim&&(a=w),i=(a?s:w)||{},a){if(a in n)throw"LoadJS";n[a]=!0}function l(p,m){A(d,function(f){c(i,f),p&&c({success:p,error:m},f),h(a,f)},i)}if(i.returnPromise)return new Promise(l);l()}return O.ready=function(w,s){return y(w,function(a){c(s,a)}),O},O.done=function(w){h(w,[])},O.reset=function(){n={},o={},u={}},O.isDefined=function(w){return w in n},O})})(Xe);const ze=Xe.exports;var Ke=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});let ee=0,Ge=0,ye=!1;const T=J({configurable:!0});function nr(e,r=0){return new Promise(t=>setTimeout(()=>t(e()),r))}function or(e,r){T.delete(e),Ge=Ge+tr(r)}function ir(e){const r=new XMLHttpRequest;return new Promise((t,n)=>{r.open("GET",e,_.request.async),r.setRequestHeader("X-Pjax","true"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.onloadstart=o=>T.set(e,r),r.onload=o=>t(ie(r.status,200)?r.responseText:!1),r.onloadend=o=>or(e,r.responseText),r.onerror=n,r.timeout=_.request.timeout,r.responseType="text",r.send(null)})}function Ye(e){T.has(e)&&(T.get(e).abort(),T.delete(e),console.warn(`Pjax: XHR Request was cancelled for url: ${e}`))}function Je(e){return Ke(this,null,function*(){return T.has(e)&&ee<=_.request.timeout?(!ye&&ie(ee*10,_.progress.threshold)&&(ce.start(),ye=!0),nr(()=>(ee++,Je(e)),1)):(ee=0,ye=!1,!T.has(e))})}function q(e,r){return Ke(this,null,function*(){if(typeof e=="string"&&(e=H(e)),r&&(e.type=r),T.has(e.url))return console.warn(`Pjax: XHR Request is already in transit for: ${e.url}`),!1;if(!R("pjax:request",{state:e},!0))return console.warn(`Pjax: Request cancelled via dispatched event for: ${e.url}`),!1;try{const t=yield ir(e.url);if(t)return e.hydrate?Ft(e,t):He(e,t);console.warn(`Pjax: Failed to retrive response at: ${e.url}`)}catch(t){T.delete(e.url),console.error(t)}return!1})}var Qe=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});const B=J({writable:!0,configurable:!0});function Ze(e){return clearTimeout(B.get(e)),B.delete(e)}function V(e){const r=he(e.target,'a[data-pjax-prefetch="hover"]');r&&(Ze(H(r).url),ge(r))}function sr(e,r,t){!M(e)&&!B.has(e)&&B.set(e,setTimeout(r,t))}function ar(e){return Qe(this,null,function*(){return(yield q(e))||console.warn(`Pjax: Prefetch will retry on next mouseover for: ${e.url}`),Ze(e.url)})}function me(e){const r=he(e.target,'a[data-pjax-prefetch="hover"]');if(!r)return;const{url:t,location:n}=H(r);if(!R("pjax:prefetch",{target:r,url:t,location:n},!0)||M(t))return we(r);ge(r);const o=pe(r,{url:t,location:n,position:Ae()});sr(t,()=>Qe(this,null,function*(){(yield ar(o))&&ge(r)}),o.threshold||_.prefetch.mouseover.threshold)}function cr(e){U?e.addEventListener("pointerover",me,!1):e.addEventListener("mouseover",me,!1)}function ge(e){U?e.removeEventListener("pointerout",V,!1):e.removeEventListener("mouseleave",V,!1)}function we(e){U?(e.removeEventListener("pointerover",V,!1),e.removeEventListener("pointerout",V,!1)):(e.removeEventListener("mouseleave",V,!1),e.removeEventListener("mouseover",me,!1))}function et(){P.hover||(C(cr)(ve('a[data-pjax-prefetch="hover"]')),P.hover=!0)}function tt(){P.hover&&(B.clear(),C(we)(ve('a[data-pjax-prefetch="hover"]')),P.hover=!1)}var lr=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});let X;function ur(e){return lr(this,null,function*(){if(e.isIntersecting){const r=pe(e.target,H(e.target));(yield q(r))?X.unobserve(e.target):(console.warn(`Pjax: Prefetch will retry at next intersect for: ${r.url}`),X.observe(e.target))}})}function rt(){P.intersect||(X=new IntersectionObserver(C(ur)),C(X.observe)(ve('a[data-pjax-prefetch="intersect"]')),P.intersect=!0)}function nt(){P.intersect&&(X.disconnect(),P.intersect=!1)}var ot=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,pr=(e,r)=>{var t={};for(var n in e)fr.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&ot)for(var n of ot(e))r.indexOf(n)<0&&dr.call(e,n)&&(t[n]=e[n]);return t},hr=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});const vr=new DOMParser,it=new Set;function yr({src:e,id:r=e}){ze.isDefined(r)||ze(e,r,{before:(t,n)=>n.setAttribute("data-pjax-eval","false"),success:()=>R("pjax:script",{id:r}),error:t=>console.error(`Pjax: Failed to load script ${t} `),numRetries:1})}function mr(e,r){var t=pr(r,[]);return C(n=>{if(n.tagName==="TITLE")return null;if(n.getAttribute("data-pjax-eval")!=="false"){const o=e.indexOf(n.outerHTML);o===-1?n.parentNode.removeChild(n):e.splice(o,1)}})(t),e.join("")}function gr({children:e}){const r=se(e).reduce((n,o)=>(o.tagName==="SCRIPT"&&o.hasAttribute("src")&&o.getAttribute("data-pjax-eval")!=="false"&&o instanceof HTMLScriptElement&&(yr(o),o.parentNode.removeChild(o)),o.tagName!=="TITLE"&&o.tagName!=="SCRIPT"?[...n,o.outerHTML]:n),[]),t=document.createElement("div");t.innerHTML=mr(r,document.head),C(n=>{n.hasAttribute("data-pjax-eval")||document.head.appendChild(n)},se(t.children))}function wr(e){!e.hasAttribute("id")||it.has(e.id)||(document.body.appendChild(e),it.add(e.id))}function st(e){return vr.parseFromString(e,"text/html")}function br(e){return hr(this,null,function*(){if(M(e.url)){const r=st($.get(e.snapshot));r.body.innerHTML=document.body.innerHTML,$.set(e.snapshot,r.documentElement.outerHTML)}})}function Pr(e,r){const t=e.replace?[...e.targets,...e.replace]:e.targets,n=t.join(","),o=document.body.querySelectorAll(n);if(o.length===0)return document.body.replaceWith(r.body);const u=r.body.querySelectorAll(n);o.forEach((y,h)=>{if(!!y.matches(t[h])&&!!R("pjax:render",{target:t[h]},!0)&&(y.replaceWith(u[h]),e.append||e.prepend)){const c=document.createElement("div");return r.childNodes.forEach(c.appendChild),e.append?y.appendChild(c):y.insertBefore(c,y.firstChild)}})}function Er(e,r){const t=r.join(","),n=document.body.querySelectorAll(t);if(n.length>0){const o=e.body.querySelectorAll(t);n.forEach((u,y)=>u.replaceWith(o[y]))}}function I(e,r){_.prefetch.mouseover.enable&&tt(),_.prefetch.intersect.enable&&nt();const t=st($.get(e.snapshot));if(e.title=document.title=t.title||"",t.head&&gr(t.head),e.hydrate){Er(t,e.hydrate);const{url:n}=x.update(e.url,{hydrate:void 0});$.clear(x.clear([n])),console.log(x.all)}else Pr(e,t),t.body.querySelectorAll("[data-pjax-track]").forEach(wr),e.history&&(r||(e.url===e.location.lastpath?S.replace(e.location,e):S.push(e.location,e)),scrollTo(e.position.x,e.position.y));return ce.done(),_.prefetch.mouseover.enable&&et(),_.prefetch.intersect.enable&&rt(),R("pjax:load",e),e}var xr=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});let at=null,be;function _r(e,r){return xr(this,null,function*(){if(e!==be&&Ye(be),M(e))return r.type==="reverse"?I(x.update(e,{position:r.position}),!0):I(x.get(e),!0);be=e;const t=yield q(r);return t?I(t,!0):location.assign(e)})}function Or({action:e,location:r}){if(e==="POP")return _r(Z(r),r.state)}function jr(){P.history||(at=S.listen(Or),P.history=!0)}function Sr(){P.history&&(at(),P.history=!1)}function Lr(){const e=ne(S.location.state,{position:k});return S.replace(S.location,e),e}var $r=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});function Tr(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}function Ar(e){return r=>function t(n){return n.preventDefault(),e.removeEventListener("click",t,!1),br(Lr()),typeof r=="object"?I(r):typeof r=="string"?te(r):location.assign(N)}}function W(e){if(!Tr(e))return;const r=he(e.target,'a:not([data-pjax-disable]):not([href^="#"])');if(!!r&&R("pjax:trigger",{target:r},!0)){const{url:t,location:n}=H(r,!0),o=Ar(r);if(T.has(t))r.addEventListener("click",o(t),!1);else{const u=pe(r,{url:t,location:n,position:Ae()});if(M(t)){const y=x.update(u.url,u);r.addEventListener("click",o(y),!1)}else q(u),r.addEventListener("click",o(t),!1)}}}function te(e,r=!1){return $r(this,null,function*(){if(r){typeof r.cache=="string"&&(r.hydrate||(r.cache==="clear"?Q():Q(e)));const t=yield q(r);if(t)return I(t)}else{if(yield Je(e))return I(x.get(e));Ye(e)}return location.assign(e)})}function Cr(){P.href||(U?addEventListener("pointerdown",W,!1):(addEventListener("mousedown",W,!1),addEventListener("touchstart",W,!1)),P.href=!0)}function kr(){P.href&&(U?removeEventListener("pointerdown",W,!1):(removeEventListener("mousedown",W,!1),removeEventListener("touchstart",W,!1)),P.href=!1)}function ct(){var e;const r=He({url:N,location:Ue(N),position:k},document.documentElement.outerHTML);if(_.prefetch.preempt!==null){const{preempt:t}=_.prefetch;$e(t)?C(n=>q(n,"preempt"))(t):(t==null?void 0:t[N])&&delete t[N]}if(_.cache.reverse){const t=S.location.state;((e=t==null?void 0:t.location)==null?void 0:e.lastpath)&&q(t.location.lastpath,"reverse").then(()=>{S.replace(window.location,r)})}else S.replace(window.location,r);removeEventListener("load",ct)}function qr(){P.controller||(jr(),Cr(),_t(),et(),rt(),addEventListener("load",ct),P.controller=!0,console.info("Pjax: Connection Established \u26A1"))}function Rr(){P.controller?(Sr(),kr(),Ot(),tt(),nt(),Q(),P.controller=!1,console.warn("Pjax: Instance has been disconnected! \u{1F614}")):console.warn("Pjax: No connection made, disconnection is void \u{1F643}")}var lt=(e,r,t)=>new Promise((n,o)=>{var u=c=>{try{h(t.next(c))}catch(v){o(v)}},y=c=>{try{h(t.throw(c))}catch(v){o(v)}},h=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,y);h((t=t.apply(e,r)).next())});const ut=!!(window.history.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser),Mr=e=>{Dt(e),ut?wt.test(window.location.protocol)?addEventListener("DOMContentLoaded",qr):console.error("Invalid protocol, pjax expects https or http protocol"):console.error("Pjax is not supported by this browser")};function Nr(){return lt(this,null,function*(){const e=yield q(x.get(N));if(e)return console.info("Pjax: Triggered reload, page was re-cached"),I(e);console.warn("Pjax: Reload Trigger failed!")})}function Hr(e){return e?x.get(e):x.all}function Ir(e=12){return xe(e)}function Dr(e){return Q(e)}function Fr(e){return lt(this,arguments,function*(r,t={}){const n=H(r,!0);return M(n.url)?t.hydrate?te(n.url,x.update(n.url,t,n)):te(n.url,x.update(n.url,t)):te(n.url,Y(t,n))})}function Wr(){Rr()}export{Hr as cache,Dr as clear,Mr as connect,Wr as disconnect,Nr as reload,ut as supported,Ir as uuid,Fr as visit};
